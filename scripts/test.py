from matplotlib import pyplot as plt
import numpy as np
from mpl_toolkits.mplot3d import Axes3D
from matplotlib import animation

fig = plt.figure()
ax = Axes3D(fig)

def gen(n):
    phi = 0
    while phi < 2*np.pi:
        yield np.array([np.cos(phi), np.sin(phi), phi])
        phi += 2*np.pi/n

def update(num, data, line):
    line.set_data(data[:, 0, num], data[:, 1, num])
    line.set_3d_properties(data[:, 2, num])
    # print(data)

data = np.array([[[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [96.0355, 96.0355, 96.0355, 96.0355, 96.0355, 96.0355, 96.0355, 96.0355, 96.0355, 96.0355, 96.0355, 96.0355, 96.0355]], [[9.6526, 9.652599618782585, 9.652596647510384, 9.652586904534507, 9.652564496495616, 9.652522073836604, 9.652451076699181, 9.652341968028733, 9.652184451516318, 9.65196767274075, 9.651680402522793, 9.6513112020606, 9.650848569878981], [0.0, 0.0027128358385965904, 0.008044903435084332, 0.015900012859308074, 0.026180164100622724, 0.038786261705784704, 0.05361876470792245, 0.07057827024793778, 0.08956603098615666, 0.11048440780275827, 0.13323726039452904, 0.15773027920978624, 0.18387126274875434], [96.0355, 96.0355, 96.0355, 96.0355, 96.0355, 96.0355, 96.0355, 96.0355, 96.0355, 96.0355, 96.0355, 96.0355, 96.0355]], [[113.66253115907261, 113.64746238931153, 113.62415318347281, 113.59393516146521, 113.55801528901439, 113.51748027365066, 113.47330189134422, 113.42634301456188, 113.37736413394654, 113.3270301895955, 113.27591755264879, 113.22452102247668, 113.17326072831358], [-0.7472798588797872, -1.440535648388608, -2.081034266294741, -2.6701454983949624, -3.209322645155158, -3.7000844749401067, -4.143998621904238, -4.542666494766127, -4.897709717899452, -5.210758088815164, -5.483439006119635, -5.717368299014815, -5.914142372733589], [95.2882201411202, 94.56302411169904, 93.85976706561495, 93.17824325043867, 92.51819261156253, 91.87930728845134, 91.2612379115904, 90.66359962655594, 90.0859777887513, 89.52793328820638, 88.9890074780696, 88.46872669282293, 87.9666063527479]], [[202.32158733055445, 202.26814895259713, 202.18435404544988, 202.0741627523617, 201.94122733795064, 201.78889718668663, 201.6202269898037, 201.43798749795224, 201.24467826087883, 201.0425418288924, 200.83357894981526, 200.61956435616514, 200.40206279777664], [-1.8390708260583875, -3.5711945162103893, -5.19852006189838, -6.723469245319171, -8.148690663784404, -9.477016681079485, -10.711423635383309, -11.854995502704618, -12.910891101497938, -13.882314829161153, -14.772490844397597, -15.584640550016386, -16.32196318713049], [94.19642917394161, 92.40745873554731, 90.66847236745785, 88.97917807878656, 87.33912631160936, 85.74772782630153, 84.20427109652726, 82.70793899660414, 81.257824613678, 79.85294606313332, 78.49226022690038, 77.17467537023137, 75.89906262289767]], [[373.12183389454685, 372.9475812250449, 372.6719221279246, 372.30609801532205, 371.86059663541323, 371.34514914084053, 370.76873742268265, 370.1396100060731, 369.4653048892743, 368.75267782770874, 368.00793470634835, 367.23666679782207, 366.4438878612857], [-4.519298705305987, -8.820810325576417, -12.907915809362443, -16.784750508227624, -20.45608971529967, -23.927240713238277, -27.203942328999087, -30.292272642675872, -33.19856519171475, -35.9293337531667, -38.49120557559413, -40.89086276667183, -43.13499141869681], [91.51620129469401, 87.10987416340907, 82.81698742366983, 78.63750001060447, 74.57091048365193, 70.61630628138693, 66.7724119079906, 63.037635387321146, 59.41011246688535, 55.88774818969462, 52.46825557392201, 49.14919124671133, 45.92798796878668]]])

# data = data.T
print(data.shape)
N = len(data)
print(N)
print(data[:, 0, 0].tolist(), data[:, 1, 0].tolist(), data[:, 2, 0].tolist())
line, = ax.plot(data[:, 0, 0], data[:, 1, 0], data[:, 2, 0])

# Setting the axes properties
ax.set_xlim3d([-400.0, 400.0])
ax.set_xlabel('X')

ax.set_ylim3d([-400.0, 400.0])
ax.set_ylabel('Y')

ax.set_zlim3d([-400.0, 400.0])
ax.set_zlabel('Z')

ani = animation.FuncAnimation(fig, update, N, fargs=(data, line), interval=10, blit=False)
#ani.save('matplot003.gif', writer='imagemagick')
plt.show()